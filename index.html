<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¹”èŠ¯èŠ¯é¸ç‰©æ‰€ | LINE æ•¸ä½åˆ†èº«</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        /* ==== å…¨å±€è®Šæ•¸èˆ‡é¢¨æ ¼ ==== */
        :root {
            --primary: #2D3436;
            --accent: #ff7675; /* æ›æˆæº«æš–çš„é¸ç‰©è‰² */
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.3);
            --shadow: 0 8px 32px 0 rgba(135, 31, 120, 0.2);
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #ffecd2);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--primary);
        }

        @keyframes gradientBG {
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¹”èŠ¯èŠ¯é¸ç‰©æ‰€ | LINE æ•¸ä½åˆ†èº«</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        /* ==== å…¨å±€è®Šæ•¸èˆ‡é¢¨æ ¼ ==== */
        :root {
            --primary: #2D3436;
            --accent: #ff7675; /* æ›æˆæº«æš–çš„é¸ç‰©è‰² */
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.3);
            --shadow: 0 8px 32px 0 rgba(135, 31, 120, 0.2);
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #ffecd2);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--primary);
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ==== å¡ç‰‡ä¸»é«” ==== */
        .card-container {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: var(--shadow);
            padding: 40px 25px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            position: relative;
        }

        .avatar-container {
            position: relative;
            width: 110px;
            height: 110px;
            margin: 0 auto 20px;
        }

        .avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255,255,255,0.8);
            background-color: #fff;
        }

        .status-dot {
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 18px;
            height: 18px;
            background: #00b894;
            border: 3px solid #fff;
            border-radius: 50%;
        }

        h1 { margin: 0; font-size: 1.6rem; font-weight: 800; }
        .tag-pill {
            display: inline-block;
            background: rgba(255,255,255,0.6);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin: 10px 0;
            font-weight: 700;
        }

        .tagline { font-size: 0.95rem; margin-bottom: 20px; font-weight: 500; }

        /* ==== æŒ‰éˆ•æ¨£å¼ ==== */
        .links-group { display: flex; flex-direction: column; gap: 14px; }

        .link-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            text-decoration: none;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            color: #2d3436;
            font-weight: 600;
            transition: 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.6);
            cursor: pointer;
        }

        .link-btn:hover { transform: translateY(-4px); background: #fff; color: var(--accent); }
        .link-btn.featured {
            background: linear-gradient(135deg, #ff7675 0%, #fab1a0 100%);
            color: white;
            border: none;
        }

        /* AI èŠå¤©é¢æ¿ */
        .ai-panel {
            display: none;
            flex-direction: column;
            gap: 10px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 16px;
            padding: 15px;
            margin-top: -10px;
            margin-bottom: 10px;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ai-input {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: 1px solid rgba(0,0,0,0.1);
            outline: none;
        }

        .send-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
        }

        .ai-response {
            margin-top: 10px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            text-align: left;
            font-size: 0.9rem;
            display: none;
            white-space: pre-wrap;
        }

        .footer { margin-top: 35px; font-size: 0.75rem; opacity: 0.6; }
    </style>
</head>
<body>

    <div class="card-container">
        <div class="avatar-container">
            <img id="userPicture" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar" class="avatar">
            <div class="status-dot"></div>
        </div>

        <h1 id="userName">è¼‰å…¥ä¸­...</h1>
        <div class="tag-pill">âœ¨ ç¹”èŠ¯èŠ¯é¸ç‰©æ‰€ âœ¨</div>
        <p class="tagline">ä½ çš„å°ˆå±¬é¸ç‰©åŠ©æ‰‹ï¼Œè®“ç¾æ„Ÿèµ°å…¥ç”Ÿæ´»ã€‚</p>

        <div class="links-group">
            <div class="link-btn featured" onclick="toggleChat()">
                <div style="display:flex; align-items:center; gap:12px;">
                    <span>ğŸ¤–</span>
                    <span>è©¢å•é¸ç‰© AI éˆæ„Ÿ</span>
                </div>
                <span id="chevron">â–¼</span>
            </div>

            <div class="ai-panel" id="aiPanel" onclick="event.stopPropagation()">
                <textarea id="userPrompt" rows="2" class="ai-input" placeholder="å•å•çœ‹ï¼šæ¨è–¦ä»€éº¼ç”Ÿæ—¥ç¦®ç‰©ï¼Ÿ"></textarea>
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <span style="font-size: 0.7rem;">Powered by Gemini</span>
                    <button class="send-btn" onclick="callGemini()">ç™¼é€ ğŸš€</button>
                </div>
                <div id="aiResponse" class="ai-response"></div>
            </div>

            <a href="#" class="link-btn">
                <div style="display:flex; align-items:center; gap:12px;">
                    <span>ğŸ›ï¸</span>
                    <span>ç€è¦½æœ€æ–°å•†å“</span>
                </div>
                <span>â†—</span>
            </a>
        </div>

        <div class="footer">Â© 2025 Zhi Xin Xin Select.</div>
    </div>

    <script>
        const myLiffId = "2008785048-HrnVlYB9"; // ä½ çš„ LIFF ID

        // 1. åˆå§‹åŒ– LIFF
        liff.init({ liffId: myLiffId }).then(() => {
            if (!liff.isLoggedIn()) {
                liff.login();
            } else {
                liff.getProfile().then(profile => {
                    document.getElementById("userName").innerText = profile.displayName;
                    document.getElementById("userPicture").src = profile.pictureUrl;
                });
            }
        }).catch(err => console.error(err));

        // 2. åˆ‡æ› AI é¢æ¿
        function toggleChat() {
            const panel = document.getElementById('aiPanel');
            const chevron = document.getElementById('chevron');
            panel.style.display = (panel.style.display === 'flex') ? 'none' : 'flex';
            chevron.innerText = (panel.style.display === 'flex') ? 'â–²' : 'â–¼';
        }

        // 3. å‘¼å« AI (é€™è£¡å…ˆåšä¸€å€‹æ¨¡æ“¬å›æ‡‰ï¼Œç­‰ä½ æœ‰ API Key å†æ¥ä¸Š)
        async function callGemini() {
            const input = document.getElementById('userPrompt').value;
            const responseDiv = document.getElementById('aiResponse');
            
            if(!input) return;

            responseDiv.style.display = 'block';
            responseDiv.innerText = "AI æ­£åœ¨æ€è€ƒä¸­...";
            
            // æš«æ™‚æ¨¡æ“¬ï¼š1ç§’å¾Œå›è©±
            setTimeout(() => {
                responseDiv.innerText = "ä½ å¥½ï¼æˆ‘æ˜¯ç¹”èŠ¯èŠ¯é¸ç‰©åŠ©æ‰‹ã€‚é—œæ–¼ã€Œ" + input + "ã€ï¼Œæˆ‘å»ºè­°å¯ä»¥æŒ‘é¸å…·æœ‰æº«åº¦çš„æ‰‹ä½œç”¢å“å–”ï¼";
            }, 1000);
        }
    </script>
</body>
</html>            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ==== å¡ç‰‡ä¸»é«” ==== */
        .card-container {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: var(--shadow);
            padding: 40px 25px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            position: relative;
        }

        .avatar-container {
            position: relative;
            width: 110px;
            height: 110px;
            margin: 0 auto 20px;
        }

        .avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255,255,255,0.8);
            background-color: #fff;
        }

        .status-dot {
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 18px;
            height: 18px;
            background: #00b894;
            border: 3px solid #fff;
            border-radius: 50%;
        }

        h1 { margin: 0; font-size: 1.6rem; font-weight: 800; }
        .tag-pill {
            display: inline-block;
            background: rgba(255,255,255,0.6);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin: 10px 0;
            font-weight: 700;
        }

        .tagline { font-size: 0.95rem; margin-bottom: 20px; font-weight: 500; }

        /* ==== æŒ‰éˆ•æ¨£å¼ ==== */
        .links-group { display: flex; flex-direction: column; gap: 14px; }

        .link-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            text-decoration: none;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            color: #2d3436;
            font-weight: 600;
            transition: 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.6);
            cursor: pointer;
        }

        .link-btn:hover { transform: translateY(-4px); background: #fff; color: var(--accent); }
        .link-btn.featured {
            background: linear-gradient(135deg, #ff7675 0%, #fab1a0 100%);
            color: white;
            border: none;
        }

        /* AI èŠå¤©é¢æ¿ */
        .ai-panel {
            display: none;
            flex-direction: column;
            gap: 10px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 16px;
            padding: 15px;
            margin-top: -10px;
            margin-bottom: 10px;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ai-input {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: 1px solid rgba(0,0,0,0.1);
            outline: none;
        }

        .send-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
        }

        .ai-response {
            margin-top: 10px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            text-align: left;
            font-size: 0.9rem;
            display: none;
            white-space: pre-wrap;
        }

        .footer { margin-top: 35px; font-size: 0.75rem; opacity: 0.6; }
    </style>
</head>
<body>

    <div class="card-container">
        <div class="avatar-container">
            <img id="userPicture" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar" class="avatar">
            <div class="status-dot"></div>
        </div>

        <h1 id="userName">è¼‰å…¥ä¸­...</h1>
        <div class="tag-pill">âœ¨ ç¹”èŠ¯èŠ¯é¸ç‰©æ‰€ âœ¨</div>
        <p class="tagline">ä½ çš„å°ˆå±¬é¸ç‰©åŠ©æ‰‹ï¼Œè®“ç¾æ„Ÿèµ°å…¥ç”Ÿæ´»ã€‚</p>

        <div class="links-group">
            <div class="link-btn featured" onclick="toggleChat()">
                <div style="display:flex; align-items:center; gap:12px;">
                    <span>ğŸ¤–</span>
                    <span>è©¢å•é¸ç‰© AI éˆæ„Ÿ</span>
                </div>
                <span id="chevron">â–¼</span>
            </div>

            <div class="ai-panel" id="aiPanel" onclick="event.stopPropagation()">
                <textarea id="userPrompt" rows="2" class="ai-input" placeholder="å•å•çœ‹ï¼šæ¨è–¦ä»€éº¼ç”Ÿæ—¥ç¦®ç‰©ï¼Ÿ"></textarea>
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <span style="font-size: 0.7rem;">Powered by Gemini</span>
                    <button class="send-btn" onclick="callGemini()">ç™¼é€ ğŸš€</button>
                </div>
                <div id="aiResponse" class="ai-response"></div>
            </div>

            <a href="#" class="link-btn">
                <div style="display:flex; align-items:center; gap:12px;">
                    <span>ğŸ›ï¸</span>
                    <span>ç€è¦½æœ€æ–°å•†å“</span>
                </div>
                <span>â†—</span>
            </a>
        </div>

        <div class="footer">Â© 2025 Zhi Xin Xin Select.</div>
    </div>

    <script>
        const myLiffId = "2008785048-HrnVlYB9"; // ä½ çš„ LIFF ID

        // 1. åˆå§‹åŒ– LIFF
        liff.init({ liffId: myLiffId }).then(() => {
            if (!liff.isLoggedIn()) {
                liff.login();
            } else {
                liff.getProfile().then(profile => {
                    document.getElementById("userName").innerText = profile.displayName;
                    document.getElementById("userPicture").src = profile.pictureUrl;
                });
            }
        }).catch(err => console.error(err));

        // 2. åˆ‡æ› AI é¢æ¿
        function toggleChat() {
            const panel = document.getElementById('aiPanel');
            const chevron = document.getElementById('chevron');
            panel.style.display = (panel.style.display === 'flex') ? 'none' : 'flex';
            chevron.innerText = (panel.style.display === 'flex') ? 'â–²' : 'â–¼';
        }

        // 3. å‘¼å« AI (é€™è£¡å…ˆåšä¸€å€‹æ¨¡æ“¬å›æ‡‰ï¼Œç­‰ä½ æœ‰ API Key å†æ¥ä¸Š)
        async function callGemini() {
            const input = document.getElementById('userPrompt').value;
            const responseDiv = document.getElementById('aiResponse');
            
            if(!input) return;

            responseDiv.style.display = 'block';
            responseDiv.innerText = "AI æ­£åœ¨æ€è€ƒä¸­...";
            
            // æš«æ™‚æ¨¡æ“¬ï¼š1ç§’å¾Œå›è©±
            setTimeout(() => {
                responseDiv.innerText = "ä½ å¥½ï¼æˆ‘æ˜¯ç¹”èŠ¯èŠ¯é¸ç‰©åŠ©æ‰‹ã€‚é—œæ–¼ã€Œ" + input + "ã€ï¼Œæˆ‘å»ºè­°å¯ä»¥æŒ‘é¸å…·æœ‰æº«åº¦çš„æ‰‹ä½œç”¢å“å–”ï¼";
            }, 1000);
        }
    </script>
</body>
</html>

